<?xml version="1.0"?>

<aspect-system>
    <!-- defines a global interceptor, will be applied to ALL objects in the system -->
    <interceptor class="com.tirsen.nanning.NullInterceptor">
        <scope>singleton</scope>
        <pointcut>
            <attribute>test</attribute>
        </pointcut>
    </interceptor>

    <!-- custom aspect, could optionally parse the XML body too -->
    <aspect class="com.tirsen.nanning.samples.prevayler.PrevaylerAspect"/>

    <!-- defines the name of the class that will identify this aspect-class,
         does not imply that any mixins will be added
         (in the future one may specify a non-abstract class here and that will be instrumented too) -->
    <class name="com.tirsen.nanning.Intf">

        <!-- defines a local interceptor, will be applied to this object only -->
        <interceptor class="com.tirsen.nanning.NullInterceptor">
            <!-- singleton scope on local interceptor means one instance for all objects of this class -->
            <scope>singleton</scope>
            <pointcut>
                <attribute>test</attribute>
            </pointcut>
        </interceptor>

        <!-- local custom aspect -->
        <aspect class="com.tirsen.nanning.samples.CacheAspect"/>

        <mixin>
            <!-- the target of the class needs to be defined as a mixin too -->
            <interface>com.tirsen.nanning.Intf</interface>
            <target>com.tirsen.nanning.IntfImpl</target>
        </mixin>

        <mixin>
            <interface>com.tirsen.nanning.TestMixin</interface>
            <target>com.tirsen.nanning.TestMixinImpl</target>
        </mixin>
    </class>
</aspect-system>